<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MindfulSpace | Ù†Ø³Ø®Ø© Ù…Ø­ÙÙˆØ¸Ø©</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg-dark:#0f0f20;
  --board-bg-dark:linear-gradient(180deg,#0a0a1a,#121232);
  --bg-light:#f8f8f8;
  --board-bg-light:linear-gradient(180deg,#ffffff,#e0e0e0);
  --bg-green:#eafaf1;
  --board-bg-green:linear-gradient(180deg,#eafaf1,#d0f5dd);
  --note-shadow:0 8px 30px rgba(2,6,23,0.6);
  --accent1:#ff6ec7;
  --accent2:#6ec1ff;
  --text-light:#e6eef8;
  --text-dark:#111;
  font-family:"Inter", system-ui, -apple-system, "Segoe UI", Roboto, Arial;
}
body{
  margin:0; min-height:100vh; font-size:16px;
  transition:all 0.3s ease;
}

.brand .logo {
  width: 60px;               /* Ø­Ø¬Ù… Ø§Ù„Ù„ÙˆØ¬Ùˆ */
  height: 60px;
  border-radius: 50%;        /* Ø´ÙƒÙ„ Ø¯Ø§Ø¦Ø±ÙŠ */
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  background: linear-gradient(135deg, #6ec1ff, #ff6ec7); /* ØªØ£Ø«ÙŠØ± Gradient */
  box-shadow: 0 0 15px rgba(110,193,255,0.6), 0 0 30px rgba(255,110,199,0.4);
  animation: neonPulse 2s infinite alternate; /* Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Neon */
}

.brand .logo img {
  width: 70%;                /* Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ±Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© */
  height: auto;
  display: block;
  object-fit: contain;
}

@keyframes neonPulse {
  0% { box-shadow: 0 0 10px rgba(110,193,255,0.4), 0 0 20px rgba(255,110,199,0.3); transform: scale(1); }
  50% { box-shadow: 0 0 20px rgba(110,193,255,0.6), 0 0 40px rgba(255,110,199,0.5); transform: scale(1.05); }
  100% { box-shadow: 0 0 15px rgba(110,193,255,0.5), 0 0 30px rgba(255,110,199,0.4); transform: scale(1); }
}

/* Responsive */
@media(max-width:600px){
  .brand .logo {
    width: 50px;
    height: 50px;
  }
  .brand .logo img {
    width: 75%;
  }
}


/* Trial Banner */
.trial-banner{
  position:fixed; top:20px; left:50%; transform:translateX(-50%);
  background: linear-gradient(135deg,#ff6ec7,#6ec1ff);
  color:#fff; font-weight:700; padding:8px 20px; border-radius:24px;
  box-shadow:0 6px 20px rgba(110,193,255,0.4);
  z-index:9999; cursor:pointer; animation: pulse 2s infinite;
  font-size:14px; text-align:center;
}
@keyframes pulse{
  0%{transform:translateX(-50%) scale(1);}
  50%{transform:translateX(-50%) scale(1.1);}
  100%{transform:translateX(-50%) scale(1);}
}

/* Welcome Message */
.welcome-msg{
  position:fixed; top:10%; left:50%; transform:translateX(-50%);
  background:rgba(255,255,255,0.9); padding:14px 24px; border-radius:12px; font-weight:600;
  box-shadow:0 6px 20px rgba(0,0,0,0.3); display:none; z-index:9999; color:#111;
}

/* Navbar */
.navbar{
  height:64px; display:flex; align-items:center; justify-content:space-between;
  padding:0 16px; gap:12px;
  backdrop-filter: blur(8px); background: rgba(255,255,255,0.02);
  border-bottom:1px solid rgba(255,255,255,0.02);
  transition: all 0.3s ease;
}
.brand{display:flex; align-items:center; gap:12px;}
.logo{width:44px; height:44px; border-radius:10px; background:linear-gradient(135deg,var(--accent1),var(--accent2)); color:#05202b; display:flex; align-items:center; justify-content:center; font-weight:700; font-size:18px; box-shadow:0 6px 18px rgba(110,193,255,0.2);}
.title{font-weight:600; font-size:18px;}
.meta{font-size:12px; color:#9fb2c9;}
.search{padding:8px 12px; border-radius:12px; border:1px solid rgba(255,255,255,0.04); background:transparent; color:inherit; outline:none; min-width:180px;}
.theme-btn{padding:6px 12px; border-radius:8px; border:none; cursor:pointer; font-weight:600; transition:all 0.2s ease;}

/* Container */
.container{display:grid; grid-template-columns:1fr; padding:16px; gap:12px; max-width:1400px; margin:0 auto;}
.board{min-height:70vh; padding:12px; border-radius:12px; position:relative; transition:all 0.3s ease; overflow:hidden;}

/* Notes */
.note{
  position:absolute; width:200px; min-height:120px; padding:12px; border-radius:12px;
  box-shadow: var(--note-shadow); color:#08222a;
  display:flex; flex-direction:column; gap:8px;
  transform-origin: top left; user-select:text; overflow:hidden;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  animation: floating 4s ease-in-out infinite alternate;
}
.note:hover{transform: scale(1.08); box-shadow:0 12px 36px rgba(110,193,255,0.7); filter: drop-shadow(0 0 8px #6ec1ff);}
@keyframes floating{
  0%{transform: translate(0,0);} 25%{transform: translate(5px,-5px);} 50%{transform: translate(-5px,5px);}
  75%{transform: translate(5px,5px);} 100%{transform: translate(0,-5px);}
}
.note .title{font-weight:700;}
.note .content{flex:1; font-size:14px; overflow:auto; white-space:pre-wrap; max-height:150px;}
.note .note-footer{display:flex; justify-content:space-between; gap:6px; align-items:center; margin-top:6px;}
.note .icon-btn{background:transparent; border:none; padding:6px; border-radius:8px; cursor:pointer;}
.color-picker{display:flex; gap:4px;}
.color-swatch{width:22px; height:22px; border-radius:6px; cursor:pointer; border:1px solid rgba(0,0,0,0.06); transition:all 0.2s ease;}
.color-swatch:hover{transform:scale(1.3);}
.color1{background:linear-gradient(135deg,#FF6EC7,#FFC1F0);}
.color2{background:linear-gradient(135deg,#6EC1FF,#A0E1FF);}
.color3{background:linear-gradient(135deg,#6EFFA1,#B0FFCC);}
.color4{background:linear-gradient(135deg,#FFF36E,#FFFAC2);}
.color5{background:linear-gradient(135deg,#FF926E,#FFC2A0);}

/* FAB */
.fab-container{position:fixed; bottom:24px; right:24px; z-index:999;}
#fabBtn{width:56px; height:56px; border-radius:50%; border:none; background:linear-gradient(135deg,#ff6ec7,#6ec1ff); color:#05202b; font-size:28px; font-weight:700; cursor:pointer; box-shadow:0 8px 24px rgba(110,193,255,0.3); transition:all 0.2s ease; animation: fabFloat 3s ease-in-out infinite alternate;}
#fabBtn:hover{transform:scale(1.2); box-shadow:0 12px 36px rgba(110,193,255,0.7);}
@keyframes fabFloat{0%{transform: translateY(0);}50%{transform: translateY(-8px);}100%{transform: translateY(0);}}
.fab-menu{display:none; flex-direction:column; margin-bottom:10px; gap:8px; align-items:flex-end;}
.fab-item{padding:10px 16px; border-radius:12px; border:none; background:rgba(15,23,36,0.9); color:#e6eef8; font-weight:600; cursor:pointer; box-shadow:0 4px 12px rgba(0,0,0,0.3); transition: all 0.2s ease;}
.fab-item:hover{background:rgba(110,193,255,0.2); transform:translateX(-4px);}

/* To-Do */
.todo-list{display:flex; flex-direction:column; gap:6px;}
.todo-item{display:flex; justify-content:space-between; background:rgba(255,255,255,0.05); padding:6px 8px; border-radius:6px; cursor:pointer;}
.todo-item.completed{text-decoration:line-through; opacity:0.6;}

/* Responsive */
@media(max-width:980px){ .search{width:100%;} .navbar{height:auto; flex-direction:column; align-items:flex-start; padding:8px;} }
@media(max-width:600px){ .board{padding:8px;} #fabBtn{width:50px;height:50px;font-size:24px;} .fab-item{font-size:14px;} .note{width:160px; min-height:100px;} .note .content{max-height:120px; font-size:13px;} .trial-banner{font-size:12px;} .welcome-msg{font-size:12px;} }
</style>
</head>
<body>

<div class="trial-banner" id="trialBanner" title="Ù†Ø³Ø®Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ©">Ù†Ø³Ø®Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ© ğŸ””</div>
<div class="welcome-msg" id="welcomeMsg">Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ MindfulSpace! ğŸ‰</div>

<div class="navbar">
  <div class="brand">
    <div class="logo"><img src="mindflow-logo.svg"></div>
    <div>
      <div class="title">MindfulSpace</div>
      <div class="meta">Ù„ÙˆØ­Ø© Ø§Ù„Ø£ÙÙƒØ§Ø± ÙˆØ§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª</div>
    </div>
  </div>
  <input type="text" class="search" placeholder="Ø§Ø¨Ø­Ø« Ø¯Ø§Ø®Ù„ Ø§Ù„Ù†ÙˆØªØ§Øª..."/>
  <button class="theme-btn" id="themeBtn">ğŸŒ“ ØªØºÙŠÙŠØ± Ø§Ù„Ø«ÙŠÙ…</button>
</div>

<div class="container">
  <main class="board" id="canvas"></main>
</div>

<div class="fab-container">
  <button id="fabBtn">+</button>
  <div class="fab-menu" id="fabMenu">
    <button class="fab-item" onclick="addNote()">ğŸ“ Ù†ÙˆØªØ© Ø¬Ø¯ÙŠØ¯Ø©</button>
    <button class="fab-item" onclick="addTodo()">âœ… To-Do List</button>
    <button class="fab-item" onclick="startStopwatch()">â± Stopwatch</button>
    <button class="fab-item" onclick="openLabels()">ğŸ· Labels</button>
  </div>
</div>

<script>
const canvas = document.getElementById('canvas');
const fabBtn = document.getElementById('fabBtn');
const fabMenu = document.getElementById('fabMenu');
const trialBanner = document.getElementById('trialBanner');
const welcomeMsg = document.getElementById('welcomeMsg');
const themeBtn = document.getElementById('themeBtn');
let currentTheme = localStorage.getItem('theme') || 'dark';

function applyTheme(theme){
  if(theme==='dark'){document.body.style.background='var(--board-bg-dark)'; document.body.style.color='var(--text-light)';}
  if(theme==='light'){document.body.style.background='var(--board-bg-light)'; document.body.style.color='var(--text-dark)';}
  if(theme==='green'){document.body.style.background='var(--board-bg-green)'; document.body.style.color='var(--text-dark)';}
  localStorage.setItem('theme', theme);
}
applyTheme(currentTheme);

themeBtn.addEventListener('click', ()=>{
  if(currentTheme==='dark'){currentTheme='light';}else if(currentTheme==='light'){currentTheme='green';}else{currentTheme='dark';}
  applyTheme(currentTheme);
});

fabBtn.addEventListener('click', ()=>{ fabMenu.style.display = fabMenu.style.display==='flex'?'none':'flex'; });
document.addEventListener('click', e=>{ if(!fabBtn.contains(e.target) && !fabMenu.contains(e.target)) fabMenu.style.display='none'; });

trialBanner.addEventListener('click', ()=>{ alert('âš ï¸ Ù‡Ø°Ù‡ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ© | Ø¨Ø¹Ø¶ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ù‚Ø¯ ØªÙƒÙˆÙ† Ù…Ø­Ø¯ÙˆØ¯Ø© âš ï¸'); });

if(!localStorage.getItem('welcomeShown')){
  welcomeMsg.style.display='block';
  setTimeout(()=>{ welcomeMsg.style.display='none'; },4000);
  localStorage.setItem('welcomeShown','yes');
}

/* Notes & LocalStorage */
const colors = ['color1','color2','color3','color4','color5'];
let notesData = JSON.parse(localStorage.getItem('notesData')||'[]');
let stopwatchData = JSON.parse(localStorage.getItem('stopwatchData')||'null');

function saveNotes(){
  const data = [];
  document.querySelectorAll('.note').forEach(n=>{
    const title=n.querySelector('.title').innerText;
    const content=n.querySelector('.content').innerText;
    const color = n.className.split(' ')[1]||'color1';
    const left=n.style.left; const top=n.style.top;
    data.push({title,content,color,left,top});
  });
  localStorage.setItem('notesData', JSON.stringify(data));
}

function addNoteFromData(d){
  const n = document.createElement('div');
  n.className='note '+d.color;
  n.style.left=d.left; n.style.top=d.top;
  n.innerHTML=`<div class="title" contenteditable="true">${d.title}</div>
    <div class="content" contenteditable="true">${d.content}</div>
    <div class="note-footer">
      <button class="icon-btn" onclick="this.parentElement.parentElement.remove(); saveNotes();">ğŸ—‘ï¸</button>
      <div class="color-picker">
        <div class="color-swatch color1" onclick="this.closest('.note').className='note color1'; saveNotes();"></div>
        <div class="color-swatch color2" onclick="this.closest('.note').className='note color2'; saveNotes();"></div>
        <div class="color-swatch color3" onclick="this.closest('.note').className='note color3'; saveNotes();"></div>
        <div class="color-swatch color4" onclick="this.closest('.note').className='note color4'; saveNotes();"></div>
        <div class="color-swatch color5" onclick="this.closest('.note').className='note color5'; saveNotes();"></div>
      </div>
    </div>`;
  canvas.appendChild(n);

  // Dragging with smooth animation
  n.addEventListener('pointerdown', e=>{
    if(e.target.closest('.color-picker') || e.target.closest('.icon-btn')) return;
    let startX=e.clientX,startY=e.clientY;
    let startLeft=parseFloat(n.style.left), startTop=parseFloat(n.style.top);
    n.style.transition='transform 0.1s ease';
    function move(ev){ 
      const dx=ev.clientX-startX, dy=ev.clientY-startY;
      n.style.left=(startLeft+dx)+'px';
      n.style.top=(startTop+dy)+'px';
    }
    function up(){ 
      n.style.transition='';
      document.removeEventListener('pointermove',move); 
      document.removeEventListener('pointerup',up); 
      saveNotes();
    }
    document.addEventListener('pointermove',move);
    document.addEventListener('pointerup',up);
  });

  n.querySelectorAll('[contenteditable]').forEach(el=>el.addEventListener('input', saveNotes));
}
notesData.forEach(d=>addNoteFromData(d));
function addNote(){ const n = {title:'Ù†ÙˆØªØ© Ø¬Ø¯ÙŠØ¯Ø©', content:'', color:colors[Math.floor(Math.random()*colors.length)], left:(40+Math.random()*200)+'px', top:(40+Math.random()*120)+'px'}; addNoteFromData(n); saveNotes(); }

/* To-Do List */
function addTodo(){
  const t = document.createElement('div');
  t.className='note color3';
  t.style.left='60px'; t.style.top='60px';
  t.innerHTML=`<div class="title">To-Do List</div><div class="content"><div class="todo-list"></div></div>
    <div class="note-footer">
      <button class="icon-btn" onclick="this.parentElement.parentElement.remove(); saveNotes();">ğŸ—‘ï¸</button>
      <button class="icon-btn" onclick="newTodo(this)">â•</button>
    </div>`;
  canvas.appendChild(t);
  saveNotes();
}
function newTodo(btn){
  const list = btn.closest('.note').querySelector('.todo-list');
  const val = prompt('Ø§Ø¯Ø®Ù„ Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©:');
  if(val){ 
    const item = document.createElement('div'); 
    item.className='todo-item'; 
    item.innerText=val; 
    item.addEventListener('click', ()=>{
      item.classList.toggle('completed');
      saveNotes();
    });
    list.appendChild(item);
    saveNotes();
  }
}

/* Stopwatch */
let stopwatchInterval=0, stopwatchTime=0;
function startStopwatch(){
  if(document.getElementById('stopwatch')) return;
  const sw = document.createElement('div');
  sw.id='stopwatch'; sw.className='note color2';
  sw.style.left='50px'; sw.style.top='50px';
  sw.innerHTML=`<div class="title">Stopwatch</div><div class="content" id="swContent">0:00</div>
    <div class="note-footer"><button onclick="stopStopwatch()">â¹ Stop</button></div>`;
  canvas.appendChild(sw);

  stopwatchTime = stopwatchData?.time||0;
  stopwatchInterval=setInterval(()=>{
    const m=Math.floor(stopwatchTime/60), s=stopwatchTime%60;
    document.getElementById('swContent').innerText=`${m}:${s<10?'0'+s:s}`;
    stopwatchTime++;
    localStorage.setItem('stopwatchData', JSON.stringify({time:stopwatchTime}));
  },1000);
}
function stopStopwatch(){ clearInterval(stopwatchInterval); document.getElementById('stopwatch')?.remove(); localStorage.removeItem('stopwatchData'); }
if(stopwatchData) startStopwatch();

function openLabels(){ alert('ÙˆØ§Ø¬Ù‡Ø© Labels Ù‡Ù†Ø§'); }
</script>
<script src="script.js"></script>
</body>
</html>
